# Python Interview Cheat Sheet

## Data Structures

### Lists
```python
# Creation and basic operations
lst = [1, 2, 3, 4, 5]
lst.append(6)              # Add to end
lst.insert(0, 0)           # Insert at index
lst.extend([7, 8])         # Add multiple items
lst.remove(3)              # Remove first occurrence
lst.pop()                  # Remove and return last item
lst.pop(0)                 # Remove at index
lst.reverse()              # Reverse in place
lst.sort()                 # Sort in place

# List comprehension
squares = [x**2 for x in range(10)]
evens = [x for x in range(10) if x % 2 == 0]

# Slicing
lst[1:3]                   # Elements 1-2
lst[:3]                    # First 3 elements
lst[3:]                    # From index 3 to end
lst[-1]                    # Last element
lst[::-1]                  # Reverse list
```

### Tuples (Immutable)
```python
tup = (1, 2, 3)
single = (1,)              # Single element tuple
x, y, z = tup              # Unpacking
```

### Dictionaries
```python
# Creation and operations
d = {'name': 'John', 'age': 30}
d['city'] = 'NYC'          # Add/update
d.get('age')               # Get with default None
d.get('salary', 0)         # Get with custom default
d.pop('age')               # Remove and return
d.keys()                   # Get keys
d.values()                 # Get values
d.items()                  # Get key-value pairs

# Dictionary comprehension
squares = {x: x**2 for x in range(5)}

# Merge dictionaries (Python 3.9+)
d1 = {'a': 1}
d2 = {'b': 2}
merged = d1 | d2
```

### Sets
```python
s = {1, 2, 3, 4}
s.add(5)                   # Add element
s.remove(3)                # Remove (raises error if not exists)
s.discard(3)               # Remove (no error)
s.union({5, 6})            # Union
s.intersection({3, 4, 5})  # Intersection
s.difference({3, 4})       # Difference
```

## Control Flow

### Conditionals
```python
if condition:
    pass
elif another_condition:
    pass
else:
    pass

# Ternary operator
result = "yes" if condition else "no"
```

### Loops
```python
# For loop
for i in range(5):
    print(i)

for idx, value in enumerate(lst):
    print(f"Index {idx}: {value}")

# While loop
while condition:
    pass

# Loop control
break                      # Exit loop
continue                   # Skip to next iteration
```

## Functions

### Basic Functions
```python
def greet(name, greeting="Hello"):
    return f"{greeting}, {name}!"

# Keyword arguments
greet(name="John", greeting="Hi")

# *args and **kwargs
def func(*args, **kwargs):
    print(args)            # Tuple of positional args
    print(kwargs)          # Dict of keyword args
```

### Lambda Functions
```python
square = lambda x: x**2
add = lambda x, y: x + y

# Common use with map, filter
numbers = [1, 2, 3, 4]
squared = list(map(lambda x: x**2, numbers))
evens = list(filter(lambda x: x % 2 == 0, numbers))
```

### Decorators
```python
def my_decorator(func):
    def wrapper(*args, **kwargs):
        print("Before function call")
        result = func(*args, **kwargs)
        print("After function call")
        return result
    return wrapper

@my_decorator
def say_hello():
    print("Hello!")
```

## Object-Oriented Programming

### Classes and Objects
```python
class Person:
    # Class variable
    species = "Homo sapiens"
    
    def __init__(self, name, age):
        # Instance variables
        self.name = name
        self.age = age
    
    def greet(self):
        return f"Hello, I'm {self.name}"
    
    @classmethod
    def from_birth_year(cls, name, birth_year):
        return cls(name, 2025 - birth_year)
    
    @staticmethod
    def is_adult(age):
        return age >= 18
    
    def __str__(self):
        return f"Person({self.name}, {self.age})"
    
    def __repr__(self):
        return f"Person(name={self.name!r}, age={self.age})"

# Create instance
person = Person("John", 30)
```

### Inheritance
```python
class Employee(Person):
    def __init__(self, name, age, employee_id):
        super().__init__(name, age)
        self.employee_id = employee_id
    
    def greet(self):
        return f"{super().greet()}, ID: {self.employee_id}"
```

### Property Decorators
```python
class Circle:
    def __init__(self, radius):
        self._radius = radius
    
    @property
    def radius(self):
        return self._radius
    
    @radius.setter
    def radius(self, value):
        if value < 0:
            raise ValueError("Radius cannot be negative")
        self._radius = value
    
    @property
    def area(self):
        return 3.14159 * self._radius ** 2
```

## File Operations

### Reading Files
```python
# Read entire file
with open('file.txt', 'r') as f:
    content = f.read()

# Read line by line
with open('file.txt', 'r') as f:
    for line in f:
        print(line.strip())

# Read all lines into list
with open('file.txt', 'r') as f:
    lines = f.readlines()
```

### Writing Files
```python
# Write (overwrite)
with open('file.txt', 'w') as f:
    f.write("Hello World\n")

# Append
with open('file.txt', 'a') as f:
    f.write("New line\n")

# Write multiple lines
lines = ["Line 1\n", "Line 2\n"]
with open('file.txt', 'w') as f:
    f.writelines(lines)
```

## Exception Handling

### Try-Except-Finally
```python
try:
    result = 10 / 0
except ZeroDivisionError as e:
    print(f"Error: {e}")
except (TypeError, ValueError) as e:
    print(f"Type or Value Error: {e}")
except Exception as e:
    print(f"General error: {e}")
else:
    print("No exception occurred")
finally:
    print("Always executes")

# Raise exceptions
raise ValueError("Invalid value")
raise Exception("Custom error message")
```

### Custom Exceptions
```python
class CustomError(Exception):
    pass

raise CustomError("Something went wrong")
```

## Common Built-in Functions

```python
# Type conversion
int("42")
float("3.14")
str(42)
list("hello")              # ['h', 'e', 'l', 'l', 'o']

# Math
abs(-5)                    # 5
round(3.7)                 # 4
pow(2, 3)                  # 8
min([1, 2, 3])             # 1
max([1, 2, 3])             # 3
sum([1, 2, 3])             # 6

# Iterables
len([1, 2, 3])             # 3
sorted([3, 1, 2])          # [1, 2, 3]
reversed([1, 2, 3])        # reverse iterator
zip([1, 2], ['a', 'b'])    # [(1, 'a'), (2, 'b')]
all([True, True, False])   # False
any([True, False, False])  # True

# Type checking
isinstance(5, int)         # True
type(5)                    # <class 'int'>
```

## String Operations

```python
s = "Hello World"
s.upper()                  # HELLO WORLD
s.lower()                  # hello world
s.strip()                  # Remove whitespace
s.split()                  # ['Hello', 'World']
s.replace("World", "Python")  # Hello Python
s.startswith("Hello")      # True
s.endswith("World")        # True
s.find("World")            # 6 (index)
s.count("l")               # 3
"_".join(['a', 'b', 'c'])  # a_b_c

# String formatting
name, age = "John", 30
f"Name: {name}, Age: {age}"
"Name: {}, Age: {}".format(name, age)
"Name: %s, Age: %d" % (name, age)
```

## List Comprehensions & Generators

### List Comprehensions
```python
# Basic
squares = [x**2 for x in range(10)]

# With condition
evens = [x for x in range(10) if x % 2 == 0]

# Nested
matrix = [[i*j for j in range(3)] for i in range(3)]

# Dict comprehension
squares_dict = {x: x**2 for x in range(5)}

# Set comprehension
unique_lengths = {len(word) for word in ['hello', 'world', 'hi']}
```

### Generators
```python
# Generator expression (uses parentheses)
gen = (x**2 for x in range(10))

# Generator function
def fibonacci(n):
    a, b = 0, 1
    for _ in range(n):
        yield a
        a, b = b, a + b

for num in fibonacci(10):
    print(num)
```

## Important Modules

### os Module
```python
import os

os.getcwd()                # Current directory
os.chdir('/path')          # Change directory
os.listdir('.')            # List directory contents
os.path.exists('file.txt') # Check if exists
os.path.isfile('file.txt') # Check if file
os.path.isdir('dir')       # Check if directory
os.path.join('dir', 'file.txt')  # Join paths
os.mkdir('new_dir')        # Create directory
os.makedirs('path/to/dir') # Create nested directories
os.remove('file.txt')      # Delete file
os.rmdir('dir')            # Remove empty directory
```

### sys Module
```python
import sys

sys.argv                   # Command line arguments
sys.exit(0)                # Exit program
sys.version                # Python version
sys.path                   # Module search paths
```

### datetime Module
```python
from datetime import datetime, timedelta

now = datetime.now()
today = datetime.today()
date = datetime(2025, 10, 28)

# Formatting
now.strftime("%Y-%m-%d %H:%M:%S")

# Parsing
datetime.strptime("2025-10-28", "%Y-%m-%d")

# Arithmetic
tomorrow = now + timedelta(days=1)
```

### json Module
```python
import json

# Serialize to JSON
data = {'name': 'John', 'age': 30}
json_str = json.dumps(data)
with open('data.json', 'w') as f:
    json.dump(data, f)

# Deserialize from JSON
json.loads(json_str)
with open('data.json', 'r') as f:
    data = json.load(f)
```

## Common Interview Concepts

**Q: What is the difference between list and tuple?**
- Lists are mutable (can be changed), tuples are immutable
- Lists use [], tuples use ()
- Tuples are faster and use less memory

**Q: Explain `*args` and `**kwargs`**
- `*args` passes variable number of positional arguments as tuple
- `**kwargs` passes variable number of keyword arguments as dict

**Q: What are decorators?**
- Functions that modify behavior of other functions
- Use `@decorator_name` syntax

**Q: Difference between `==` and `is`?**
- `==` checks value equality
- `is` checks identity (same object in memory)

**Q: What is list comprehension?**
- Concise way to create lists: `[expression for item in iterable if condition]`

**Q: Explain mutable vs immutable**
- Mutable: Can be changed after creation (list, dict, set)
- Immutable: Cannot be changed (tuple, string, int, float)

**Q: What is GIL (Global Interpreter Lock)?**
- Mutex that protects access to Python objects
- Prevents multiple threads from executing Python bytecode at once
- Use multiprocessing for CPU-bound tasks

**Q: Difference between deep copy and shallow copy?**
```python
import copy
shallow = copy.copy(original)      # Copies reference to nested objects
deep = copy.deepcopy(original)     # Copies everything recursively
```

**Q: What is `__init__` and `__new__`?**
- `__new__` creates instance (rarely used)
- `__init__` initializes instance (constructor)

**Q: Explain `with` statement**
- Context manager for resource management
- Automatically handles setup and teardown
- Ensures files are closed, locks are released
