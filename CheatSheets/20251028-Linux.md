# Linux Bash Interview Cheat Sheet

## File System Navigation & Operations

### Basic Commands
```bash
pwd                    # Print working directory
ls -la                 # List all files with details
cd /path/to/dir        # Change directory
mkdir -p dir1/dir2     # Create nested directories
rm -rf directory       # Remove directory recursively
cp -r source dest      # Copy recursively
mv old new             # Move/rename files
```

### File Permissions
```bash
chmod 755 file         # rwxr-xr-x
chmod u+x file         # Add execute for user
chown user:group file  # Change ownership
umask 022              # Default permission mask
```

**Permission Values:**
- Read (r) = 4, Write (w) = 2, Execute (x) = 1

## Text Processing

### Essential Commands
```bash
grep -r "pattern" /path       # Recursive search
grep -i "text" file           # Case-insensitive
awk '{print $1}' file         # Print first column
sed 's/old/new/g' file        # Replace text
cut -d',' -f1,3 file          # Extract CSV columns
sort -n file                  # Numeric sort
uniq -c                       # Count unique lines
```

### Piping & Redirection
```bash
command > file         # Redirect output (overwrite)
command >> file        # Redirect output (append)
command 2>&1           # Redirect stderr to stdout
command < input.txt    # Input redirection
cmd1 | cmd2            # Pipe output to next command
```

## Process Management

### Process Commands
```bash
ps aux                 # List all processes
ps -ef | grep process  # Find specific process
top                    # Real-time process viewer
htop                   # Enhanced process viewer
kill -9 PID            # Force kill process
killall process_name   # Kill by name
bg                     # Resume in background
fg                     # Bring to foreground
nohup command &        # Run immune to hangups
```

### Job Control
```bash
command &              # Run in background
jobs                   # List background jobs
Ctrl+Z                 # Suspend current job
disown -h %1           # Detach job from shell
```

## Networking

### Common Commands
```bash
netstat -tuln          # List listening ports
ss -tuln               # Modern alternative to netstat
curl -X GET url        # HTTP request
wget url               # Download file
ping host              # Test connectivity
traceroute host        # Trace route to host
nslookup domain        # DNS lookup
dig domain             # Detailed DNS info
```

### SSH & SCP
```bash
ssh user@host          # Remote login
ssh -i key.pem user@host  # Login with key
scp file user@host:/path  # Copy to remote
scp -r dir user@host:/path # Copy directory
```

## System Information

### System Commands
```bash
uname -a               # System information
df -h                  # Disk usage (human readable)
du -sh directory       # Directory size
free -m                # Memory usage (MB)
uptime                 # System uptime
cat /etc/os-release    # OS version
lsblk                  # List block devices
```

## Shell Scripting Basics

### Variables
```bash
VAR="value"            # Define variable
echo $VAR              # Access variable
readonly VAR           # Make read-only
export VAR             # Environment variable
$0                     # Script name
$1, $2                 # Positional arguments
$#                     # Number of arguments
$@                     # All arguments
$?                     # Exit status of last command
$$                     # Current process PID
```

### Conditionals
```bash
if [ condition ]; then
    commands
elif [ condition ]; then
    commands
else
    commands
fi

# Common test conditions
[ -f file ]            # File exists
[ -d directory ]       # Directory exists
[ -z "$var" ]          # String is empty
[ "$a" = "$b" ]        # String equality
[ $a -eq $b ]          # Numeric equality
[ $a -lt $b ]          # Less than
```

### Loops
```bash
# For loop
for i in {1..5}; do
    echo $i
done

for file in *.txt; do
    echo $file
done

# While loop
while [ condition ]; do
    commands
done

# Until loop
until [ condition ]; do
    commands
done
```

### Functions
```bash
function_name() {
    echo "Argument 1: $1"
    return 0
}

# Call function
function_name arg1
```

## Advanced Concepts

### Command Substitution
```bash
result=$(command)      # Store command output
result=`command`       # Alternative syntax
```

### Arrays
```bash
arr=(value1 value2 value3)
echo ${arr[0]}         # First element
echo ${arr[@]}         # All elements
echo ${#arr[@]}        # Array length
```

### String Manipulation
```bash
${VAR#pattern}         # Remove shortest match from start
${VAR##pattern}        # Remove longest match from start
${VAR%pattern}         # Remove shortest match from end
${VAR%%pattern}        # Remove longest match from end
${VAR/pattern/str}     # Replace first match
${VAR//pattern/str}    # Replace all matches
${#VAR}                # String length
```

## Find Command

```bash
find /path -name "*.txt"           # Find by name
find /path -type f                 # Find files only
find /path -type d                 # Find directories only
find /path -mtime -7               # Modified in last 7 days
find /path -size +100M             # Files larger than 100MB
find /path -exec command {} \;     # Execute command on results
```

## Common Interview Questions

**Q: What is the difference between `source` and `./` to run a script?**
- `source script.sh` or `. script.sh` runs in current shell (changes affect current session)
- `./script.sh` runs in a subshell (changes don't affect parent shell)

**Q: Difference between soft link and hard link?**
- Soft link (symbolic): Points to file path, can link directories, breaks if original deleted
- Hard link: Points to inode, same file different name, can't link directories

**Q: What is shebang?**
- `#!/bin/bash` at first line tells system which interpreter to use

**Q: How to debug bash scripts?**
```bash
bash -x script.sh      # Print commands as executed
set -x                 # Enable debugging in script
set -e                 # Exit on error
set -u                 # Exit on undefined variable
```

**Q: What are exit codes?**
- 0 = Success
- 1 = General errors
- 2 = Misuse of shell command
- 126 = Command cannot execute
- 127 = Command not found
- 130 = Terminated by Ctrl+C

**Q: How to make script executable?**
```bash
chmod +x script.sh
```

**Q: Difference between `$*` and `$@`?**
- `$*` treats all arguments as single string
- `$@` treats each argument as separate string (preserves spaces)
